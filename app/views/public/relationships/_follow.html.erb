  <% if current_user.following?(user) %>
    <%= link_to "Unfollow", user_relationships_path(user), method: :delete, class: "btn btn-outline-success", remote: true %>
  <% else %>
    <% if user.is_public == true %>
      <%= link_to "Follow", user_relationships_path(user), method: :post, class: "btn btn-outline-success", remote: true %>
    <% else %>
      <% if current_user.follow_requested?(user) %>
        <%= link_to "Cancel Request", user_follow_requests_path(user_id: user.id), method: :delete, class: "btn btn-outline-success", remote: true %>
      <% else %>
        <%= link_to "Follow Request", user_follow_requests_path(user_id: user.id), method: :post, class: "btn btn-outline-success", remote: true %>
      <% end %>
    <% end %>
  <% end %>